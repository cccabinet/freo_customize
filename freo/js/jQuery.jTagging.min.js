/*
 * jQuery jTagging plugin
 * Version 1.0.0  (10/01/2007)
 *
 * Copyright (c) 2007 Alcohol.Wang
 * Dual licensed under the MIT and GPL licenses.
 *
 * http://www.alcoholwang.cn/jquery/jTagging.htm
*/
!function(t){t.jTagging={version:"1.0.0",defaults:{normalStyle:{padding:"2px 1px 0 1px",textDecoration:"none",color:"#6665cb",backgroundColor:""},selectedStyle:{padding:"2px 1px 0 1px",textDecoration:"none",color:"#fff",backgroundColor:"#6665cb"},normalHoverStyle:{padding:"2px 1px 0 1px",textDecoration:"none",color:"#fff",backgroundColor:"#6665cb"}},arrayRemove:function(e,n){e=e||[];for(var a in e)e[a]=t.trim(e[a]),e[a]!=n&&""!=e[a]||e.splice(a,1)},setClass:function(e,n,a){t(e).css(n),t(e).hover(function(){t(e).css(a)},function(){t(e).css(n)})}},t.fn.jTagging=function(e,n,a,i,o){return n=n||",",a=a||t.jTagging.defaults.normalStyle,i=i||t.jTagging.defaults.selectedStyle,o=o||t.jTagging.defaults.normalHoverStyle,e=[e],this.each(function(){var s=this.nodeName.toLowerCase(),r=this.type.toLowerCase();if("input"!=s||"text"!=r&&"textarea"!=s)throw'Element must be "input:text" or "textarea"';var g=this;t.each(["keydown","keyup"],function(s,r){t(g).bind(r,function(){t.each(e,function(e,s){t.each(s,function(e,s){t("a",s).each(function(){var e=t(g).val().split(n);t.jTagging.arrayRemove(e),t(e).index(t(this).text())>=0?t.jTagging.setClass(this,i,o):t.jTagging.setClass(this,a,o)})})})})}),t.each(e,function(e,s){t.each(s,function(e,s){t("a",s).each(function(){t(this).removeClass(),t(this).attr("href","#"),t(this).click(function(){var e=t(g).val().split(n);return t.jTagging.arrayRemove(e),t(e).index(t(this).text())>=0?(t.jTagging.arrayRemove(e,t(this).text()),t(g).val(e.join(n)),t.jTagging.setClass(this,a,o)):(e.push(t(this).text()),t(g).val(e.join(n)),t.jTagging.setClass(this,i,o)),this.blur(),!1});var e=t(g).val().split(n);t.jTagging.arrayRemove(e),t(e).index(t(this).text())>=0?t.jTagging.setClass(this,i,o):t.jTagging.setClass(this,a,o)})})})})}}(jQuery);
